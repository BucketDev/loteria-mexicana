<div *ngIf="board">
    <mat-toolbar color="accent">
        <mat-toolbar-row class="d-flex justify-content-between mat-elevation-z4">
            <div>
                <a href="#" [routerLink]="['/']">
                    <img src="https://png.icons8.com/cotton/watermelon--v1/32" alt="logo" class="pb-2">
                </a>
                <span> {{ board.name }}</span>
            </div>
            <div class="d-flex">
                <button mat-flat-button (click)="shuffleDeck()"
                        [disabled]="board.gameStarted">
                    <img src="https://png.icons8.com/cotton/synchronize--v2/24" alt="mezclar">
                </button>
                <button *ngIf="board.gameStarted" mat-raised-button color="warn" type="button" class="ml-2"
                        (click)="finishGame()" [disabled]="!board.gameWon && playingCards.length > 0">Terminar</button>
                <button *ngIf="!board.gameStarted" mat-raised-button color="primary" type="button" class="ml-2"
                        (click)="startGame()">Iniciar</button>
                <button mat-flat-button (click)="copyToClipboard()" class="ml-2">
                        <img src="https://png.icons8.com/cotton/copy/24" alt="copiar">
                        <img src="https://png.icons8.com/cotton/share/24" alt="copiar" class="ml-2">
                </button>
            </div>
        </mat-toolbar-row>
    </mat-toolbar>
    <div class="d-flex justify-content-center py-5" *ngIf="!players || players.length === 0">
        <span class="h3 text-muted">Esperando al primer jugador</span>
    </div>
    <div *ngIf="players?.length > 0" class="d-flex justify-content-between">
        <h5 class="m-0"><span class="badge badge-dark">Jugadores: {{ players.length }}</span></h5>
        <h5 class="m-0"><span class="badge badge-success" *ngIf="board.gameWon">Ganado por: </span></h5>
        <h5 class="m-0"><span class="badge badge-dark" *ngIf="cards">Restanes: {{ calculateRest() }}</span></h5>
    </div>
    <div *ngIf="players?.length > 0" class="p-2">
        <div *ngIf="!board.gameStarted; else gameStarted" class="d-flex flex-column align-items-center">
            <span class="d-flex justify-content-center align-items-center deck mat-elevation-z2 bg-light">
                Da clic en iniciar
            </span>
        </div>
        <ng-template #gameStarted>
            <div *ngIf="cards && playingCards">
                <div *ngIf="playingCards.length === 0; else cardsLeft" class="d-flex flex-column align-items-center">
                    <span class="d-flex justify-content-center align-items-center deck mat-elevation-z2 bg-light">
                        <img src="https://png.icons8.com/color/galo-de-barcelos/128" alt="mezclar">
                    </span>
                </div>
                <ng-template #cardsLeft>
                    <div *ngIf="playingCards" class="d-flex flex-column align-items-center">
                        <div class="deck mat-elevation-z2" matRipple (click)="nextCard()"
                            [style.background-image]="playingCards[playingCards.length - 1].url | uriStyleSanitizer">
                        </div>
                    </div>
                </ng-template>
            </div>
        </ng-template>
    </div>
</div>